modules:

  - type: rpm-ostree
    install:
      - adw-gtk3-theme
      - intel-gpu-tools
      - nm-connection-editor-desktop
      - rsms-inter-fonts
    remove:
      - firefox
      - firefox-langpacks

  - type: default-flatpaks
    source: ghcr.io/lorduskordus/modules
    notify: true
    system:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      repo-name: flathub-system
      repo-title: "Flathub (systém)"
      install:
        - org.freedesktop.Platform.ffmpeg-full/x86_64/23.08
        - org.freedesktop.Platform.VAAPI.Intel/x86_64/23.08
        - org.freedesktop.Platform.VaInfo/x86_64/23.08
        - org.winehq.Wine//stable-23.08
        - org.freedesktop.Platform.VulkanLayer.MangoHud//23.08
        - org.mozilla.firefox
        - org.libreoffice.LibreOffice
        - org.videolan.VLC
        - io.mpv.Mpv
        - org.gnome.Lollypop
        - org.gnome.Loupe
        - org.gnome.Snapshot
        - org.gnome.SoundRecorder
        - com.github.marhkb.Pods
        - io.github.dvlv.boxbuddyrs
        - io.github.flattool.Warehouse
        - org.gnome.Calculator
        - org.gnome.Evince
        - net.nokyan.Resources
        - com.tomjwatson.Emote
        - eu.betterbird.Betterbird # Switch to 'org.mozilla.Thunderbird' after it has tray support.
    user:
      repo-url: https://dl.flathub.org/repo/flathub.flatpakrepo
      repo-name: flathub-user
      repo-title: "Flathub (uživatel)"

  - type: bling
    install:
      - ublue-update

  - type: files
    files:
      - common/usr: /usr

  - type: justfiles
    source: ghcr.io/lorduskordus/modules
    include:
      - common

  - type: systemd
    user:
      enabled:
        - podman.socket

  - type: signing